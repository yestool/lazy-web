{% extends "layout/admin-layout.html.twig" %}
{% import 'components/table.html.twig' as table %}
{% block title %}Admin Post{% endblock %}


{# 定义表头 #}
{% set headers = [
    {'name': 'ID', class: 'border w-1/4 px-4 py-2'},
    {'name': '姓名', class: 'border w-1/6 px-4 py-2'},
    {'name': '年龄', class: 'border w-1/6 px-4 py-2'},
		{'name': '状态', class: 'border w-1/6 px-4 py-2'},
		{'name': '操作', class: 'border w-1/6 px-4 py-2'}
] %}

{# 定义数据 #}
{% set rows = [
    { 'id': 1, 'name': 'Alice', 'age': 25, 'status': 1 },
    { 'id': 2, 'name': 'Bob', 'age': 30 , 'status': 0 },
    { 'id': 3, 'name': 'Charlie', 'age': 35, 'status': 1 }
	] 
%}

{% set newRows = [] %}
{% for row in rows %}
    {# 根据 status 的值设置图标 #}
    {% set statusIcon = row.status == 1 ? '<i class="fas fa-check text-green-500 mx-2"></i>' : '<i class="fas fa-times text-red-500 mx-2"></i>' %}
    {# 将修改后的 row 添加到新列表 #}
    {% set newRows = newRows|merge([{
        'id': row.id,
        'name': row.name,
        'age': row.age,
        'status': statusIcon,
        'actions': '<a href="/edit/' ~ row.id ~ '" class="bg-teal-300 cursor-pointer rounded p-1 mx-1 text-white"><i class="fas fa-eye"></i></a>' 
								~ '<a href="/edit/' ~ row.id ~ '" class="bg-teal-300 cursor-pointer rounded p-1 mx-1 text-white"><i class="fas fa-edit"></i></a>'
								~ '<a href="/edit/' ~ row.id ~ '" class="bg-teal-300 cursor-pointer rounded p-1 mx-1 text-red-500"><i class="fas fa-trash"></i></a>'
    }]) %}
{% endfor %}


{% block content %}
<!--/Main-->
<main class="bg-white-500 flex-1 p-3 overflow-hidden">
	<div class="flex flex-col">
		<!--Search form-->
		<div class="flex flex-col md:flex-row lg:flex-row mx-2">
			<div class="mb-2 border-solid border-gray-300 rounded border shadow-sm w-full">
				<div class="bg-gray-200 px-2 py-3 border-solid border-gray-200 border-b">
					Search Form
				</div>
				<div class="p-3">
					<form class="flex flex-col md:flex-row lg:flex-row mx-2">
						<div class="mb-2 md:mr-2 md:mb-0">
							<input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" type="text" placeholder="Search">
						</div>
						<div class="mb-2 md:mr-2 md:mb-0">
							<select class="shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
								<option>Select Course</option>
								<option>MS</option>
								<option>BS</option>
								<option>BA</option>
								<option>MBA</option>
							</select>
						</div>
						<div class="mb-2 md:mr-2 md:mb-0">
							<select class="shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
								<option>Select Status</option>
								<option>Paid</option>
								<option>Unpaid</option>
							</select>
						</div>
						<div class="mb-2 md:mr-2 md:mb-0">
							<select class="shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
								<option>Select Gender</option>
								<option>Male</option>
								<option>Female</option>
							</select>
						</div>
						<div class="mb-2 md:mr-2 md:mb-0">
							<button class="bg-teal-300 hover:bg-teal-400 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="button">
								Search
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
		<!--/Search form-->
		<!--Grid Form-->
		<div class="flex flex-1  flex-col md:flex-row lg:flex-row mx-2">
			<div class="mb-2 border-solid border-gray-300 rounded border shadow-sm w-full">
				<div class="bg-gray-200 px-2 py-3 border-solid border-gray-200 border-b">
					Full Table
				</div>
				{{ table.table(headers, newRows, { 'current_page': 1, 'total_pages': 10 }) }}
			</div>
		</div>
		<!--/Grid Form-->
	</div>
</main>
<!--/Main-->
{% endblock %}
